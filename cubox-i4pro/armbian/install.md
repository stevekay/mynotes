# Installing armbian Jessie on cubox-i4pro.

armbian cubox-i page is https://www.armbian.com/cubox-i/

## On a Linux VM, download armbian image

    [root@localhost ~]# wget https://dl.armbian.com/cubox-i/Debian_jessie_next.7z
    [root@localhost ~]# yum install -y p7zip
    [root@localhost ~]# 7za e Debian_jessie_next.7z
    [root@localhost ~]# ls -l
    total 1489872
    -rw-r--r--. 1 root  root  1317011456 Feb  5 22:47 Armbian_5.25_Cubox-i_Debian_jessie_next_4.9.7.img
    -rw-r--r--. 1 root  root         819 Feb  5 22:48 Armbian_5.25_Cubox-i_Debian_jessie_next_4.9.7.img.asc
    -rw-r--r--. 1 root  root       18574 Feb  5 22:47 armbian.txt
    -rw-r--r--. 1 root  root         819 Feb  5 22:48 armbian.txt.asc
    -rw-rw-r--. 1 root  root   208581339 Feb  6 00:48 Debian_jessie_next.7z
    -rw-r--r--. 1 root  root         116 Feb  5 22:47 sha256sum.sha
    [root@localhost ~]# 

## Insert SD card (/dev/sdb), write image to it

    [root@localhost ~]# fdisk -l /dev/sdb
    
    Disk /dev/sdb: 7892 MB, 7892631552 bytes, 15415296 sectors
    Units = sectors of 1 * 512 = 512 bytes
    Sector size (logical/physical): 512 bytes / 512 bytes
    I/O size (minimum/optimal): 512 bytes / 512 bytes
    Disk label type: dos
    Disk identifier: 0xf56c4ddc
    
    Device Boot      Start         End      Blocks   Id  System
    /dev/sdb1   *        2048       34815       16384    e  W95 FAT16 (LBA)
    /dev/sdb2           34816    15415295     7690240   83  Linux
    [root@localhost ~]# dd if=Armbian*img of=/dev/sdb bs=1M
    1256+0 records in
    1256+0 records out
    1317011456 bytes (1.3 GB) copied, 258.256 s, 5.1 MB/s
    
    real    4m18.264s
    user    0m0.003s
    sys     0m2.792s
    [root@localhost ~]#

    [root@localhost ~]#

## Insert SD card into cubox, boot up, login

    On usb keyboard, logon as root, password 1234.

    Note : doesn't negotiate with my hdmi->vga adapter properly, so have to hook straight into hdmi->dvi monitor.

    On first boot, will prompt for user creation.

## Network

    root@cubox-i:~# ip a
    1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1
        link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
        inet 127.0.0.1/8 scope host lo
           valid_lft forever preferred_lft forever
        inet6 ::1/128 scope host
           valid_lft forever preferred_lft forever
    2: dummy0: <BROADCAST,NOARP> mtu 1500 qdisc noop state DOWN group default qlen 1000
        link/ether da:ec:69:a9:02:04 brd ff:ff:ff:ff:ff:ff
    3: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
        link/ether d0:63:b4:00:7e:40 brd ff:ff:ff:ff:ff:ff
        inet 192.168.0.13/24 brd 192.168.0.255 scope global eth0
           valid_lft forever preferred_lft forever
        inet6 fe80::d263:b4ff:fe00:7e40/64 scope link
           valid_lft forever preferred_lft forever
    4: bond0: <NO-CARRIER,BROADCAST,MULTICAST,MASTER,UP> mtu 1500 qdisc noqueue state DOWN group default qlen 1000
        link/ether c2:f8:81:ad:79:e7 brd ff:ff:ff:ff:ff:ff
    5: wlan0: <NO-CARRIER,BROADCAST,MULTICAST,UP> mtu 1500 qdisc pfifo_fast state DOWN group default qlen 1000
        link/ether b8:5a:f7:82:67:7e brd ff:ff:ff:ff:ff:ff
    root@cubox-i:~#

# Disk

    root@cubox-i:~# df -h
    Filesystem      Size  Used Avail Use% Mounted on
    udev             10M     0   10M   0% /dev
    tmpfs           404M  5.7M  398M   2% /run
    /dev/mmcblk0p1  7.0G 1012M  5.9G  15% /
    tmpfs          1009M     0 1009M   0% /dev/shm
    tmpfs           5.0M  4.0K  5.0M   1% /run/lock
    tmpfs          1009M     0 1009M   0% /sys/fs/cgroup
    tmpfs          1009M     0 1009M   0% /tmp
    log2ram          50M  672K   50M   2% /var/log
    tmpfs           202M     0  202M   0% /run/user/0
    tmpfs           202M     0  202M   0% /run/user/1000
    root@cubox-i:~#


# CPU

    root@cubox-i:~# lscpu
    Architecture:          armv7l
    Byte Order:            Little Endian
    CPU(s):                4
    On-line CPU(s) list:   0-3
    Thread(s) per core:    1
    Core(s) per socket:    4
    Socket(s):             1
    Model name:            ARMv7 Processor rev 10 (v7l)
    CPU max MHz:           996.0000
    CPU min MHz:           396.0000
    root@cubox-i:~#

# Kernel

    root@cubox-i:~# uname -a
    Linux cubox-i 4.9.7-cubox #3 SMP Thu Feb 2 02:29:14 CET 2017 armv7l GNU/Linux
    root@cubox-i:~#


# Release

    root@cubox-i:~# cat /etc/armbian-release
    # PLEASE DO NOT EDIT THIS FILE
    BOARD=cubox-i
    BOARD_NAME="Cubox i2eX/i4"
    VERSION=5.25
    LINUXFAMILY=cubox
    BRANCH=next
    ARCH=arm
    IMAGE_TYPE=stable
    root@cubox-i:~# cat /etc/os-release
    PRETTY_NAME="Debian GNU/Linux 8 (jessie)"
    NAME="Debian GNU/Linux"
    VERSION_ID="8"
    VERSION="8 (jessie)"
    ID=debian
    HOME_URL="http://www.debian.org/"
    SUPPORT_URL="http://www.debian.org/support"
    BUG_REPORT_URL="https://bugs.debian.org/"
    root@cubox-i:~#
    
# Update

    root@cubox-i:~# apt-get update
    Get:1 http://security.debian.org jessie/updates InRelease [63.1 kB]
    Get:2 http://apt.armbian.com jessie InRelease [8,951 B]
    Ign http://httpredir.debian.org jessie InRelease
    Get:3 http://httpredir.debian.org jessie-updates InRelease [145 kB]
    Get:4 http://apt.armbian.com jessie/main armhf Packages [125 kB]
    Get:5 http://httpredir.debian.org jessie-backports InRelease [166 kB]
    Hit http://httpredir.debian.org jessie Release.gpg
    Hit http://httpredir.debian.org jessie Release
    Get:6 http://security.debian.org jessie/updates/main armhf Packages [336 kB]
    Get:7 http://apt.armbian.com jessie/utils armhf Packages [4,139 B]
    Get:8 http://apt.armbian.com jessie/jessie-desktop armhf Packages [9,420 B]
    [snip]
    root@cubox-i:~# apt-get upgrade
    Reading package lists... Done
    Building dependency tree
    Reading state information... Done
    Calculating upgrade... Done
    The following packages will be upgraded:
      bind9-host dnsutils libbind9-90 libdns-export100 libdns100 libirs-export91 libisc-export95 libisc95 libisccc90 libisccfg-export90 libisccfg90 liblwres90 linux-dtb-next-cubox linux-headers-next-cubox linux-image-next-cubox
      linux-libc-dev login passwd vim vim-common vim-runtime vim-tiny
    22 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
    Need to get 33.4 MB of archives.
    After this operation, 1,540 kB of additional disk space will be used.
    Do you want to continue? [Y/n] y
    [snip]
    Setting up linux-headers-next-cubox (5.26) ...
    Compiling headers - please wait ...
    Setting up linux-image-next-cubox (5.26) ...
    update-initramfs: Generating /boot/initrd.img-4.9.12-cubox
    update-initramfs: Converting to u-boot format
    Setting up linux-libc-dev:armhf (3.16.39-1+deb8u1) ...
    Processing triggers for libc-bin (2.19-18+deb8u7) ...
    root@cubox-i:~# reboot
    root@cubox-i:~# uname -a
    Linux cubox-i 4.9.12-cubox #7 SMP Thu Feb 23 21:22:20 CET 2017 armv7l GNU/Linux
    root@cubox-i:~#

# Install kodi

    root@cubox-i:~# apt-get install kodi
    Reading package lists... Done
    Building dependency tree
    Reading state information... Done
    The following extra packages will be installed:
      fontconfig-config fonts-dejavu-core fonts-roboto kodi-bin kodi-data libass5 libasyncns0 libavahi-client3 libavahi-common-data libavahi-common3 libavcodec57 libavfilter6 libavformat57 libavresample3 libavutil55 libbluetooth3
      libbluray1 libbs2b0 libcdio13 libchromaprint1 libcrossguid0v4 libcups2 libdrm-freedreno1 libdrm-nouveau2 libdrm-radeon1 libdrm2 libdvdread4 libegl1-mesa libelf1 libenca0 libfftw3-double3 libflac8 libflite1 libfontconfig1 libfontenc1
      libfreetype6 libfribidi0 libgbm1 libgif4 libgl1-mesa-glx libglapi-mesa libgles2-mesa libglew1.10 libglu1-mesa libgme0 libgraphite2-3 libgsm1 libharfbuzz0b libice6 libjasper1 libjbig0 libjpeg62-turbo libjs-iscroll libjs-jquery
      liblcms2-2 libldb1 libllvm3.5 libmicrohttpd10 libmodplug1 libmp3lame0 libntdb1 libogg0 libopencv-core2.4 libopencv-imgproc2.4 libopenjp2-7 libopus0 libpcrecpp0 libpgm-5.1-0 libpng12-0 libpostproc54 libpulse0 libpython2.7
      librubberband2 libshine3 libsm6 libsmbclient libsnappy1 libsndfile1 libsodium13 libsoxr0 libspeex1 libssh-4 libssh-gcrypt-4 libswresample2 libswscale4 libtag1-vanilla libtag1c2a libtalloc2 libtdb1 libtevent0 libtheora0 libtiff5
      libtinyxml2.6.2 libtwolame0 libva-drm1 libva-x11-1 libva1 libvdpau1 libvorbis0a libvorbisenc2 libvpx1 libwavpack1 libwayland-client0 libwayland-server0 libwbclient0 libwebp5 libwebpdemux1 libwebpmux1 libx11-6 libx11-data libx11-xcb1
      libx264-142 libx265-87 libxau6 libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-render0 libxcb-shape0 libxcb-sync1 libxcb-xfixes0 libxcb1 libxcomposite1 libxdamage1 libxdmcp6 libxext6 libxfixes3 libxft2 libxi6
      libxinerama1 libxmu6 libxmuu1 libxpm4 libxrandr2 libxrender1 libxshmfence1 libxslt1.1 libxt6 libxtst6 libxv1 libxvidcore4 libxxf86dga1 libxxf86vm1 libyajl2 libzmq3 libzvbi-common libzvbi0 mesa-utils python-imaging python-pil
      python-talloc samba-libs x11-common x11-utils
    Suggested packages:
      libbluray-bdj cups-common libdvdcss2 libfftw3-bin libfftw3-dev alsa-base glew-utils libjasper-runtime liblcms2-utils opus-tools pulseaudio speex python-pil-doc python-pil-dbg
    Recommended packages:
      kodi-visualization-spectrum libcec3v4 libmad0 libmpeg2-4 libnfs4 libplist2 libvorbisfile3 udisks2 libaacs0 libdvdnav4 libegl1-mesa-drivers libgl1-mesa-dri javascript-common va-driver-all va-driver vdpau-driver
    The following NEW packages will be installed:
      fontconfig-config fonts-dejavu-core fonts-roboto kodi kodi-bin kodi-data libass5 libasyncns0 libavahi-client3 libavahi-common-data libavahi-common3 libavcodec57 libavfilter6 libavformat57 libavresample3 libavutil55 libbluetooth3
      libbluray1 libbs2b0 libcdio13 libchromaprint1 libcrossguid0v4 libcups2 libdrm-freedreno1 libdrm-nouveau2 libdrm-radeon1 libdrm2 libdvdread4 libegl1-mesa libelf1 libenca0 libfftw3-double3 libflac8 libflite1 libfontconfig1 libfontenc1
      libfreetype6 libfribidi0 libgbm1 libgif4 libgl1-mesa-glx libglapi-mesa libgles2-mesa libglew1.10 libglu1-mesa libgme0 libgraphite2-3 libgsm1 libharfbuzz0b libice6 libjasper1 libjbig0 libjpeg62-turbo libjs-iscroll libjs-jquery
      liblcms2-2 libldb1 libllvm3.5 libmicrohttpd10 libmodplug1 libmp3lame0 libntdb1 libogg0 libopencv-core2.4 libopencv-imgproc2.4 libopenjp2-7 libopus0 libpcrecpp0 libpgm-5.1-0 libpng12-0 libpostproc54 libpulse0 libpython2.7
      librubberband2 libshine3 libsm6 libsmbclient libsnappy1 libsndfile1 libsodium13 libsoxr0 libspeex1 libssh-4 libssh-gcrypt-4 libswresample2 libswscale4 libtag1-vanilla libtag1c2a libtalloc2 libtdb1 libtevent0 libtheora0 libtiff5
      libtinyxml2.6.2 libtwolame0 libva-drm1 libva-x11-1 libva1 libvdpau1 libvorbis0a libvorbisenc2 libvpx1 libwavpack1 libwayland-client0 libwayland-server0 libwbclient0 libwebp5 libwebpdemux1 libwebpmux1 libx11-6 libx11-data libx11-xcb1
      libx264-142 libx265-87 libxau6 libxaw7 libxcb-dri2-0 libxcb-dri3-0 libxcb-glx0 libxcb-present0 libxcb-render0 libxcb-shape0 libxcb-sync1 libxcb-xfixes0 libxcb1 libxcomposite1 libxdamage1 libxdmcp6 libxext6 libxfixes3 libxft2 libxi6
      libxinerama1 libxmu6 libxmuu1 libxpm4 libxrandr2 libxrender1 libxshmfence1 libxslt1.1 libxt6 libxtst6 libxv1 libxvidcore4 libxxf86dga1 libxxf86vm1 libyajl2 libzmq3 libzvbi-common libzvbi0 mesa-utils python-imaging python-pil
      python-talloc samba-libs x11-common x11-utils
    0 upgraded, 157 newly installed, 0 to remove and 0 not upgraded.
    Need to get 70.0 MB of archives.
    After this operation, 162 MB of additional disk space will be used.
    Do you want to continue? [Y/n] y

